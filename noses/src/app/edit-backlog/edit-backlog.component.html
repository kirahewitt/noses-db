<!-- Beginning of the form -->
<!-- <mat-dialog-content [formGroup]="form"> -->

<h1 class="title is-2 title-container">Edit Staged Observation</h1>
<div class="page-container" [formGroup]="form">
  <!-- body section-->
  <div class="row page-padding">
    <!-- left column -->
    <div class="col-md-6">
      <mat-card>
        <h4>Basic Seal Data</h4>
        <div style="display: flex; flex-direction: row;">
          <div class="col-md-6">
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Date Observation Recorded</mat-label>
                <input #dateOfRecording matInput formControlName="dateOfRecording"
                  (input)="observationTuple.dateOfRecording = dateOfRecording.value" placeholder="MM/DD/YYYY">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Location Code</mat-label>
                <select matNativeControl class="mdb-select md-form colorful-select dropdown-primary"
                  (change)="observationTuple.locationCode = $event.target.value">
                  <option value="ACL">ACL</option>
                  <option value="ACU">ACU</option>
                  <option value="ALL">ALL</option>
                  <option value="ALLn">ALLn</option>
                  <option value="ALLs">ALLs</option>
                  <option value="ALU">ALU</option>
                  <option value="DCC">DCC</option>
                  <option value="DCL">DCL</option>
                  <option value="DCU">DCU</option>
                  <option value="LTC">LTC</option>
                  <option value="LTL">LTL</option>
                  <option value="LTU">LTU</option>
                  <option value="VAFB">VAFB</option>
                  <option value="VP3DC">VP3DC</option>
                  <option value="VP3L">VP3L</option>
                  <option value="VP3U">VP3U</option>
                </select>
              </mat-form-field>
            </p>
          </div>
          <div class="col-md-6">
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Field Leader Initials</mat-label>
                <input #fieldLeaderList matInput formControlName="fieldLeaderList"
                  (input)="observationTuple.fieldLeaderInitials= fieldleader.value" placeholder="FL">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Comments</mat-label>
                <input #comments matInput formControlName="comments"
                  (input)="observationTuple.comments = comments.value" placeholder="">
              </mat-form-field>
            </p>
          </div>
        </div>
        <div style="display: flex; flex-direction: row;">
          <div class="col-md-6">
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Age</mat-label>
                <input #sealAgeCode matInput formControlName="sealAgeCode" 
                  (input)="observationTuple.sealAgeCode = sealAgeCode.value"
                  placeholder="">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Sex</mat-label>
                <select matNativeControl class="mdb-select md-form colorful-select dropdown-primary"
                  (change)="observationTuple.sealSex = $event.target.value">
                  <option value="M">M</option>
                  <option value="F">F</option>
                </select>
              </mat-form-field>
            </p>
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>% Molt Completed</mat-label>
              <input #sealMoltPercentage matInput formControlName="sealMoltPercentage"
                (input)="observationTuple.sealMoltPercentage = sealMoltPercentage.value" placeholder="00">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Pup</mat-label>
                <input #sealHasPupQuantity matInput formControlName="sealHasPupQuantity"
                  (input)="observationTuple.sealHasPup = sealHasPupQuantity.value" placeholder="">
              </mat-form-field>
            </p>
            <!-- date first seen as weaner -->
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Last Seen as Pup</mat-label>
                <input #sealLastSeenAsPupDate matInput formControlName="sealLastSeenAsPupDate"
                  (input)="observationTuple.sealLastSeenAsPupDate = sealLastSeenAsPupDate.value" placeholder="MM/DD/YYYY">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>First Seen as Weaner</mat-label>
                <input #sealFirstSeenAsWeaner matInput formControlName="sealFirstSeenAsWeaner"
                  (input)="observationTuple.sealFirstSeenAsWeaner = sealFirstSeenAsWeaner.value" placeholder="MM/DD/YYYY">
              </mat-form-field>
            </p>
          </div>
        </div>
      </mat-card>
      <mat-card>
        <h4>Measurements</h4>
        <div style="display: flex; flex-direction: row;">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>Total Mass</mat-label>
              <input #sealMass matInput formControlName="sealMass" (input)="observationTuple.sealMass = sealMass.value" placeholder="">
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>Tare Mass</mat-label>
              <input #sealTare matInput formControlName="sealTare" (input)="observationTuple.sealTare = sealTare.value" placeholder="">
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>Ax. Girth</mat-label>
              <input #sealAxillaryGirth matInput formControlName="sealAxillaryGirth" (input)="observationTuple.sealAxillaryGirth = sealAxillaryGirth.value" placeholder="">
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>Crv. Length</mat-label>
              <input #sealCurvilinearLength matInput formControlName="sealCurvilinearLength" (input)="observationTuple.sealCurvilinearLength = sealCurvilinearLength.value" placeholder="">
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>St. Length</mat-label>
              <input #sealStandardLength matInput formControlName="sealStandardLength" (input)="observationTuple.sealStandardLength = sealStandardLength.value" placeholder="">
            </mat-form-field>
          </div>
        </div>
      </mat-card>
    </div>
    <!-- right column -->
    <div class="col-md-6">
      <mat-card>
        <h4>Identification Information</h4>
        <p></p>
        <p>Link to an existing seal? Selected Seal Id: {{observationTuple.sealId}} </p>
        <div class="container">
          <div class="row">
            <div class="col-md-12 mx-auto">
              <div class="md-form">
                <input type="text" class="form-control" (keyup)="searchItems()" #search
                  (input)="searchText = search.value" mdbInput />
                <label for="search">Search</label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 mx-auto">
              <button *ngIf="sealSelected(observationTuple.sealId)" type="button" mdbBtn color="danger" rounded="true"
                size="sm" class="my-0" (click)="selectSeal(0)">Clear</button>
            </div>
          </div>
          <table mdbTable class="z-depth-1">
            <thead>
              <tr>
                <th *ngFor="let head of headElements; let i = index" scope="col">
                  {{head}}
                </th>
              </tr>
            </thead>
            <tbody style="display: block; overflow: auto; max-height: 300px;">
              <tr *ngFor="let el of elements; let i = index">
                <th scope="row">{{el.SealID}}</th>
                <td class="">{{el.Tags}}</td>
                <td>{{el.Marks}}</td>
                <td>{{el.Sex}}</td>
                <td>{{el.AgeClass}}</td>
                <td>
                  <span (click)="viewSeal(el)" class="hippo">
                    <img src="assets/cropped_silhouette_smaller_1_blue.png" height="30" width="56" />
                  </span>
                </td>
                <td>
                  <span class="table-remove">
                    <button type="button" mdbBtn color="primary" rounded="true" size="sm" class="my-0"
                      (click)="selectSeal(el.SealID)">Select</button>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="display: flex; flex-direction: row;">
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>Mark 1: Id Value</mat-label>
              <input #markonecode matInput formControlName="mark1_idValue"
                (input)="observationTuple.mark1_idValue = markonecode.value" placeholder="">
            </mat-form-field>
            <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
              <mat-label>Mark 1: Position Code</mat-label>
              <input #markonepos matInput formControlName="mark1_positionCode"
                (input)="observationTuple.mark1_positionCode = markonepos.value" placeholder="">
            </mat-form-field>
              <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
                <mat-label>Mark 2: Id Value</mat-label>
                <input #marktwocode matInput formControlName="mark2_idValue"
                  (input)="observationTuple.mark2_idValue = marktwocode.value" placeholder="">
              </mat-form-field>
              <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
                <mat-label>Mark 2: Position Code</mat-label>
                <input #marktwopos matInput formControlName="mark2_positionCode"
                  (input)="observationTuple.mark2_positionCode = marktwopos.value" placeholder="">
              </mat-form-field>
          </div>
          <div class="col-md-6">
              <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
                <mat-label>Tag 1: Id Value</mat-label>
                <input #tagonecode matInput formControlName="tag1_idValue"
                  (input)="observationTuple.tag1_idValue = tagonecode.value" placeholder="">
              </mat-form-field>
              <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
                <mat-label>Tag 1: Position Code</mat-label>
                <input #tagonepos matInput formControlName="tag1_positionCode"
                  (input)="observationTuple.tag1_positionCode = tagonepos.value" placeholder="">
              </mat-form-field>
              <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
                <mat-label>Tag 2: Id Value</mat-label>
                <input #tagtwoid matInput formControlName="tag2_idValue"
                  (input)="observationTuple.tag2_idValue = tagtwoid.value" placeholder="">
              </mat-form-field>

              <mat-form-field appearance="outline" class="full-width" style="padding-left: 1rem; padding-right: 1rem;">
                <mat-label>Tag 2: Position Code</mat-label>
                <input #tagtwopos matInput formControlName="tag2_positionCode"
                  (input)="observationTuple.tag2_positionCode = tagtwopos.value" placeholder="">
              </mat-form-field>
          </div>
          </div>
      </mat-card>
      <div style="display: flex; flex-direction: row-reverse;">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <button class="btn btn-info submit-btn">Save Changes</button>
        </form>       
       </div>
      </div>
    </div>
